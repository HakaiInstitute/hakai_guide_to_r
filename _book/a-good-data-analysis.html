<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Hakai Institute R Data-Analyst Guide</title>
  <meta name="description" content="This is the Hakai Institutes data analysts guide for developing analyses in R">
  <meta name="generator" content="bookdown 0.3.18 and GitBook 2.6.7">

  <meta property="og:title" content="Hakai Institute R Data-Analyst Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/red_hakai.png" />
  <meta property="og:description" content="This is the Hakai Institutes data analysts guide for developing analyses in R" />
  <meta name="github-repo" content="HakaiInstitute/hakai_guide_to_r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Hakai Institute R Data-Analyst Guide" />
  
  <meta name="twitter:description" content="This is the Hakai Institutes data analysts guide for developing analyses in R" />
  <meta name="twitter:image" content="images/red_hakai.png" />

<meta name="author" content="Brett Johnson">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction.html">
<link rel="next" href="data-analysts-toolbox.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Hakai Institute R Data Analyst Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#university-gaps"><i class="fa fa-check"></i><b>1.1</b> University Gaps</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#reproducibility-problem"><i class="fa fa-check"></i><b>1.2</b> Reproducibility Problem</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#modern-approach-to-data-analysis"><i class="fa fa-check"></i><b>1.3</b> Modern Approach to Data Analysis</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html"><i class="fa fa-check"></i><b>2</b> A Good Data Analysis</a><ul>
<li class="chapter" data-level="2.1" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#reproducible-research"><i class="fa fa-check"></i><b>2.1</b> Reproducible Research</a></li>
<li class="chapter" data-level="2.2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#literate-programming"><i class="fa fa-check"></i><b>2.2</b> Literate Programming</a></li>
<li class="chapter" data-level="2.3" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#open-science-collaboration"><i class="fa fa-check"></i><b>2.3</b> Open Science Collaboration</a><ul>
<li class="chapter" data-level="2.3.1" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#peer-review"><i class="fa fa-check"></i><b>2.3.1</b> Peer Review</a></li>
<li class="chapter" data-level="2.3.2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#code-review"><i class="fa fa-check"></i><b>2.3.2</b> Code Review</a></li>
<li class="chapter" data-level="2.3.3" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#collaboration"><i class="fa fa-check"></i><b>2.3.3</b> Collaboration</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#resources"><i class="fa fa-check"></i><b>2.4</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html"><i class="fa fa-check"></i><b>3</b> Data Analyst’s Toolbox</a><ul>
<li class="chapter" data-level="3.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#r-and-r-studio"><i class="fa fa-check"></i><b>3.1</b> R and R Studio</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#step-by-step-rrstudio"><i class="fa fa-check"></i><b>3.1.1</b> Step-by-step R/RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#version-control-with-git-and-github"><i class="fa fa-check"></i><b>3.2</b> Version control with Git and GitHUB</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#step-by-step-gitgit-hub"><i class="fa fa-check"></i><b>3.2.1</b> Step-by-step Git/Git HUB</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i><b>4</b> Intro to R</a><ul>
<li class="chapter" data-level="4.1" data-path="intro-to-r.html"><a href="intro-to-r.html#data-transformation"><i class="fa fa-check"></i><b>4.1</b> Data Transformation</a></li>
<li class="chapter" data-level="4.2" data-path="intro-to-r.html"><a href="intro-to-r.html#tidying-your-data"><i class="fa fa-check"></i><b>4.2</b> Tidying Your Data</a></li>
<li class="chapter" data-level="4.3" data-path="intro-to-r.html"><a href="intro-to-r.html#visualizing-data"><i class="fa fa-check"></i><b>4.3</b> Visualizing Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html"><i class="fa fa-check"></i><b>5</b> Developing Analyses with the Hakai Institute</a><ul>
<li class="chapter" data-level="5.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#step-by-step-analysis-example"><i class="fa fa-check"></i><b>5.1</b> Step-by-step Analysis Example</a><ul>
<li class="chapter" data-level="5.1.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#set-up-a-repo-on-github"><i class="fa fa-check"></i><b>5.1.1</b> Set up a repo on GitHUB</a></li>
<li class="chapter" data-level="5.1.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#start-a-new-r-studio-project"><i class="fa fa-check"></i><b>5.1.2</b> Start a new R-Studio project</a></li>
<li class="chapter" data-level="5.1.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#create-folder-structure"><i class="fa fa-check"></i><b>5.1.3</b> Create folder structure</a></li>
<li class="chapter" data-level="5.1.4" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#import-pre-process-tidy-data"><i class="fa fa-check"></i><b>5.1.4</b> Import, pre-process &amp; tidy data</a></li>
<li class="chapter" data-level="5.1.5" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>5.1.5</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="5.1.6" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#predict-and-model"><i class="fa fa-check"></i><b>5.1.6</b> Predict and Model</a></li>
<li class="chapter" data-level="5.1.7" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#communicate"><i class="fa fa-check"></i><b>5.1.7</b> Communicate</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#programming-style-guide"><i class="fa fa-check"></i><b>5.2</b> Programming style guide</a></li>
<li class="chapter" data-level="5.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#more-on-version-control"><i class="fa fa-check"></i><b>5.3</b> More on Version Control</a><ul>
<li class="chapter" data-level="5.3.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#gitkraken"><i class="fa fa-check"></i><b>5.3.1</b> GitKraken</a></li>
<li class="chapter" data-level="5.3.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#git-flow"><i class="fa fa-check"></i><b>5.3.2</b> Git Flow</a></li>
<li class="chapter" data-level="5.3.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#fork-and-pull"><i class="fa fa-check"></i><b>5.3.3</b> Fork and Pull</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="additional-references-and-learning-resources.html"><a href="additional-references-and-learning-resources.html"><i class="fa fa-check"></i><b>6</b> Additional References and Learning Resources</a><ul>
<li class="chapter" data-level="6.1" data-path="additional-references-and-learning-resources.html"><a href="additional-references-and-learning-resources.html#plots"><i class="fa fa-check"></i><b>6.1</b> Plots</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="glossary-of-terms.html"><a href="glossary-of-terms.html"><i class="fa fa-check"></i><b>7</b> Glossary of Terms</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Hakai Institute R Data-Analyst Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="a-good-data-analysis" class="section level1">
<h1><span class="header-section-number">2</span> A Good Data Analysis</h1>
<p>Defining a perfect data analysis is nearly impossible. However, new ideas about what makes a good data analysis are emerging. With data being so readily available in vast quantities, analyzing data using out of date methods — such as Microsoft excel — quickly becomes overwhelming, not reproducible, error-prone, and difficult to assess for reliability.</p>
<p>Much of the progress in terms of ‘developing analyses’ has been made in the field of bio-statistics due to the high volume of genomic data that researchers deal with. One of the most concerning examples of what can go wrong with an analysis, is from the field of genomics and cancer treatments. In the <a href="http://www.cbsnews.com/news/deception-at-duke-fraud-in-cancer-care/">‘Duke Scandal’</a>, researchers made mistakes in their data analysis, that were extremely difficult to track, and resulted in patients receiving the wrong cancer treatment. This is an extreme example that affected peoples lives directly. I would argue, that the work that we do at Hakai, analyzing ecological data, has much broader implications and should be treated with an equal degree of discretion.</p>
<p>Some important concepts in defining a good data analysis are:</p>
<ol style="list-style-type: decimal">
<li>Reproducible Research,</li>
<li>Literate Programming, and</li>
<li>The Open Notebook</li>
</ol>
<p>These three concepts bring together a very modern way of conducting science that are beneficial in the following regards:</p>
<ul>
<li>They save you work in the long run by allowing you to reproduce your own analyses after you’ve long forgotten the details of how they were conducted</li>
<li>If you weave a narrative text into your computer code you’ll be able to understand what you were thinking at a later time when you revisit it</li>
<li>You can easily collaborate</li>
<li>You can show your peers that you have nothing to hide in your analytic methods</li>
<li>You can share your analyses in hopes that others will improve the quality of your analysis by offering their insight</li>
</ul>
<div id="reproducible-research" class="section level2">
<h2><span class="header-section-number">2.1</span> Reproducible Research</h2>
<p>If your study finds something very interesting, people are going to want to know how you came to your conclusion. A simple example of how easy it is to break the reproducibility chain comes from working with your data in excel. By simply deleting some values that looked to be outliers, without recording anywhere that you did that, or why you did that, you have effectively broken the reproducibility chain. Another person could not come to the same conclusions as you did, if you provided them the raw data set you started with.</p>
<p>In order for your analysis to be viewed as trustworthy, you need to be able to provide the data, the scripted code you used to clean, summarize, model, and visualize that data, and then a reviewer has to be able to run that same code and see the same results. This level of transparency allows a reviewer to look very closely at how you conducted your analysis. This adds an additional step in the peer review process which has not previously been possible with un-scripted analyses.</p>
<p>The reality is, the peer-reviewer or collaborator that you will most often want to work with is ‘future-you’. Scripting reproducible analyses with embedded narrative allows future-you to understand what past-you was thinking. This, in turn, saves you a lot of time in the long run, and allows you to build upon your previous work. The idea of embedding your own narrative, or adding comments to your code, introduces the idea of literate programming.</p>
</div>
<div id="literate-programming" class="section level2">
<h2><span class="header-section-number">2.2</span> Literate Programming</h2>
<p>By weaving together human-readable narrative that explains what your computer code is doing and why you decided to do it, greatly increase the quality of your work.</p>
<ul>
<li>R Markdown visual example. (code to html report)</li>
</ul>
</div>
<div id="open-science-collaboration" class="section level2">
<h2><span class="header-section-number">2.3</span> Open Science Collaboration</h2>
<div id="peer-review" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Peer Review</h3>
<p>Open science collaboration establishes an additional peer-review step in the scientific process. By making your analysis public using a <a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">distributed version control system</a> you open up the possibility for on-going peer-review of your analysis, as well as the the opportunity for not only your immediate colleagues, but also experts in your field to contribute in a meaningful and formalized way.</p>
</div>
<div id="code-review" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Code Review</h3>
<p>Before you publish or distribute your analysis, you must have a colleague reveiw your code. You would never publish a written article without sending it to a trusted co-worker or superviser first. Code review is the same thing.</p>
<p>While peer-review permits the scientific merit of your analyses to be assesed, code-review permits a colleague to assess your analyses for coding errors. Developing analyses is difficult and error prone. Using the <em>distributed version control</em> system <a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">GitHUB</a>, you are able to track changes to your code over time and enable others to suggest edits for your review, leaving you with a history of exactly what was added when and by whom — this is version control. The distributed aspect of ‘distributed version control’ means that multiple people can access the version control through your <em>repository</em> of all the files of your analysis (and their previous versions). You can make your repository (repo) private or public. By acessing your repo, which is hosted on Git HUB, others can meaningfully collaborate, conduct peer-review, and code-review.</p>
</div>
<div id="collaboration" class="section level3">
<h3><span class="header-section-number">2.3.3</span> Collaboration</h3>
<p>Software developers have been using this type of development platform for some time, and by using these tools data analysis can progress towards the concept of <em>developing analyses</em>. Ultimately, this approach makes your life easier. If you’ve experienced the pain of digging through your emails or zip files to find the analysis you or your colleague conducted years ago, only to be left perplexed by which version is the ‘master’ or ‘final’ then Git HUB will be a welcome addition to your toolbox.</p>
<p>Git Hub can also be used as a project management tool for example by creating to-do lists for yourself and your team. By creating <em>issues</em> you can leave yourself a to-do list, or collaborators can identify issues with your analysis. We will cover Git HUB fundamentals in the next chapter.</p>
</div>
</div>
<div id="resources" class="section level2">
<h2><span class="header-section-number">2.4</span> Resources</h2>
<p>The ‘bible for a new generation of Data Scientists’ is Hadley Wickham and Garrett Grolemund’s Book: <a href="http://r4ds.had.co.nz/">R For Data Science</a>. This book presents a modern approach to data analysis and leads you to master the ‘tidy-verse’; a combination of R packages and a well thought out and systematic approach to “import, tidy, transform, visualize, and model data.” Using the tidy-verse as a foundation for your coding replaces the ‘thousand and one ways’ of doing things in R into a modern and concise grammar of data analysis development.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-analysts-toolbox.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
