<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Hakai Institute R Data-Analyst Guide</title>
  <meta name="description" content="This is the Hakai Institutes data analysts guide for developing analyses in R">
  <meta name="generator" content="bookdown 0.3.18 and GitBook 2.6.7">

  <meta property="og:title" content="Hakai Institute R Data-Analyst Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/red_hakai.png" />
  <meta property="og:description" content="This is the Hakai Institutes data analysts guide for developing analyses in R" />
  <meta name="github-repo" content="HakaiInstitute/hakai_guide_to_r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Hakai Institute R Data-Analyst Guide" />
  
  <meta name="twitter:description" content="This is the Hakai Institutes data analysts guide for developing analyses in R" />
  <meta name="twitter:image" content="images/red_hakai.png" />

<meta name="author" content="Brett Johnson">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-analysts-toolbox.html">
<link rel="next" href="developing-analyses-with-the-hakai-institute.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Hakai Institute R Data Analyst Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#university-gaps"><i class="fa fa-check"></i><b>1.1</b> University Gaps</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#reproducibility-problem"><i class="fa fa-check"></i><b>1.2</b> Reproducibility Problem</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#modern-approach-to-data-analysis"><i class="fa fa-check"></i><b>1.3</b> Modern Approach to Data Analysis</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html"><i class="fa fa-check"></i><b>2</b> A Good Data Analysis</a><ul>
<li class="chapter" data-level="2.1" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#reproducible-research"><i class="fa fa-check"></i><b>2.1</b> Reproducible Research</a></li>
<li class="chapter" data-level="2.2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#literate-programming"><i class="fa fa-check"></i><b>2.2</b> Literate Programming</a></li>
<li class="chapter" data-level="2.3" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#open-science-collaboration"><i class="fa fa-check"></i><b>2.3</b> Open Science Collaboration</a><ul>
<li class="chapter" data-level="2.3.1" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#peer-review"><i class="fa fa-check"></i><b>2.3.1</b> Peer Review</a></li>
<li class="chapter" data-level="2.3.2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#code-review"><i class="fa fa-check"></i><b>2.3.2</b> Code Review</a></li>
<li class="chapter" data-level="2.3.3" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#collaboration"><i class="fa fa-check"></i><b>2.3.3</b> Collaboration</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#resources"><i class="fa fa-check"></i><b>2.4</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html"><i class="fa fa-check"></i><b>3</b> Data Analyst’s Toolbox</a><ul>
<li class="chapter" data-level="3.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#r-and-r-studio"><i class="fa fa-check"></i><b>3.1</b> R and R Studio</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#step-by-step-rrstudio"><i class="fa fa-check"></i><b>3.1.1</b> Step-by-step R/RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#version-control-with-git-and-github"><i class="fa fa-check"></i><b>3.2</b> Version control with Git and GitHUB</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#step-by-step-gitgit-hub"><i class="fa fa-check"></i><b>3.2.1</b> Step-by-step Git/Git HUB</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i><b>4</b> Intro to R</a><ul>
<li class="chapter" data-level="4.1" data-path="intro-to-r.html"><a href="intro-to-r.html#data-transformation"><i class="fa fa-check"></i><b>4.1</b> Data Transformation</a></li>
<li class="chapter" data-level="4.2" data-path="intro-to-r.html"><a href="intro-to-r.html#tidying-your-data"><i class="fa fa-check"></i><b>4.2</b> Tidying Your Data</a></li>
<li class="chapter" data-level="4.3" data-path="intro-to-r.html"><a href="intro-to-r.html#visualizing-data"><i class="fa fa-check"></i><b>4.3</b> Visualizing Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html"><i class="fa fa-check"></i><b>5</b> Developing Analyses with the Hakai Institute</a><ul>
<li class="chapter" data-level="5.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#step-by-step-analysis-example"><i class="fa fa-check"></i><b>5.1</b> Step-by-step Analysis Example</a><ul>
<li class="chapter" data-level="5.1.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#set-up-a-repo-on-github"><i class="fa fa-check"></i><b>5.1.1</b> Set up a repo on GitHUB</a></li>
<li class="chapter" data-level="5.1.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#start-a-new-r-studio-project"><i class="fa fa-check"></i><b>5.1.2</b> Start a new R-Studio project</a></li>
<li class="chapter" data-level="5.1.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#create-folder-structure"><i class="fa fa-check"></i><b>5.1.3</b> Create folder structure</a></li>
<li class="chapter" data-level="5.1.4" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#import-pre-process-tidy-data"><i class="fa fa-check"></i><b>5.1.4</b> Import, pre-process &amp; tidy data</a></li>
<li class="chapter" data-level="5.1.5" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>5.1.5</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="5.1.6" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#predict-and-model"><i class="fa fa-check"></i><b>5.1.6</b> Predict and Model</a></li>
<li class="chapter" data-level="5.1.7" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#communicate"><i class="fa fa-check"></i><b>5.1.7</b> Communicate</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#programming-style-guide"><i class="fa fa-check"></i><b>5.2</b> Programming style guide</a></li>
<li class="chapter" data-level="5.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#more-on-version-control"><i class="fa fa-check"></i><b>5.3</b> More on Version Control</a><ul>
<li class="chapter" data-level="5.3.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#gitkraken"><i class="fa fa-check"></i><b>5.3.1</b> GitKraken</a></li>
<li class="chapter" data-level="5.3.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#git-flow"><i class="fa fa-check"></i><b>5.3.2</b> Git Flow</a></li>
<li class="chapter" data-level="5.3.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#fork-and-pull"><i class="fa fa-check"></i><b>5.3.3</b> Fork and Pull</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="additional-references-and-learning-resources.html"><a href="additional-references-and-learning-resources.html"><i class="fa fa-check"></i><b>6</b> Additional References and Learning Resources</a><ul>
<li class="chapter" data-level="6.1" data-path="additional-references-and-learning-resources.html"><a href="additional-references-and-learning-resources.html#plots"><i class="fa fa-check"></i><b>6.1</b> Plots</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="glossary-of-terms.html"><a href="glossary-of-terms.html"><i class="fa fa-check"></i><b>7</b> Glossary of Terms</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Hakai Institute R Data-Analyst Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro-to-r" class="section level1">
<h1><span class="header-section-number">4</span> Intro to R</h1>
<p>In this section you will learn the basics of data wrangling in R. Data wrangling is the process of importing, tidying, and transforming your data into a format that you can visualize and model it. <a href="%22http://vita.had.co.nz/papers/tidy-data.pdf%22">Tidy data</a> is a consistent data format that, when followed closely, dramatically reduces the mundane data formatting that is necessary otherwise. The basic concept is that every row is one observation and every column is a variable. For how simple it sounds, creating tidy data sets takes some time to get the hang of initially, but is essential for data wrangling in the tidyverse — the modern set of tools and packages developed in R around the concept of tidy data.</p>
<div id="data-transformation" class="section level2">
<h2><span class="header-section-number">4.1</span> Data Transformation</h2>
<p>The most important set of tools for data wrangling that you will use constantly are from the package dplyr. They allow you to solve the most of the data manipulation problems you will encounter. Those who are able to efficiently get their data into a format they can visualize and model, will explore and therefore learn the most about their data. I’d recommend learning these six data wrangling functions off-by-heart:</p>
<ol style="list-style-type: decimal">
<li><code>filter()</code> to pick observations (rows) based on their values</li>
<li><code>select()</code> to pick variables (columns) based on the names</li>
<li><code>arrange()</code> to reorder the rows of your data set</li>
<li><code>mutate()</code> to create new variables (columns) as a function of existing variables</li>
<li><code>summarize()</code> to collapse many values down to a summary</li>
<li><code>group_by()</code> to summarize based on the various groups of a variable</li>
</ol>
<p>To learn how to put this in to practice I recommend reading through <a href="%22http://r4ds.had.co.nz/transform.html%22">this</a> chapter called Data Transformation in R for Data Science and working through all the exercises. This will be a bit of a learning curve but it’s time to dive in.</p>
<p>Starting at the <a href="%22http://r4ds.had.co.nz/transform.html%22">Data Transformation chapter</a> assumes you have some very basic knowledge of R already. If that’s not the case then I recommend starting at the <a href="%22http://r4ds.had.co.nz/workflow-basics.html%22">Workflow: Basics</a> chapter.</p>
</div>
<div id="tidying-your-data" class="section level2">
<h2><span class="header-section-number">4.2</span> Tidying Your Data</h2>
<p>Tidy data is best explained by a quote from <a href="http://www.jstatsoft.org/v59/i10/paper">Hadley Wickham’s paper</a> in the Journal of Statistical Software: “Tidy data sets are easy to manipulate, model and visualize, and have a specific structure: each variable is a column, each observation is a row, and each type of observational unit is a table.” The ‘tidy-verse’ model of working in R that I have previously referred to relies on this system of data preparation.</p>
<p>The basic tenets that make a data set tidy are:</p>
<ol style="list-style-type: decimal">
<li>Each variable must have its own column</li>
<li>Each observation must have its own row</li>
<li>Each value must have its own cell</li>
</ol>
<p>Beyond that each type of observational unit should be its own table. That is to say, I wouldn’t mix weather metadata from field collection of a fish sample in the same table as the results of a laboratory analysis. Instead I would keep these two types of information, in different tables, but provide a common column in each that allows the tables to be later joined. This is relational data joining that you can read about in the chapter on <a href="%22http://r4ds.had.co.nz/relational-data.html%22">Relational Data</a> in R for Data Science. If you are involved in producing the data set, I recommend setting up your data collection to follow the tidy data format, to make your life, or the life of your analysts, much easier!</p>
<p>Allow the data stored in Hakai’s database is designed to be tidy, sometimes you receive data that is not in a tidy format. The most common problem I run into is that not every row is one observation, it is often many more than one. To get your data into a tidy format you have to spread out the observations into different rows and create new variables that were once simply listed in rows. Luckily, the package <code>tidyr</code> has several functions that make this possible.</p>
<p>To get a really strong handle on what tidy data is, and to start practising getting data in to a tidy format I recommend working through <a href="%22http://r4ds.had.co.nz/tidy-data.html%22">this</a> chapter on tidying data in the R for Data Science book.</p>
</div>
<div id="visualizing-data" class="section level2">
<h2><span class="header-section-number">4.3</span> Visualizing Data</h2>
<p>In the last chapter you had a teaser of what is possible in terms of making some nice looking plots when you worked through the first few sections in the Data Visualization chapter in R for Data Science. To see what else is possible and to learn the principles of the layered grammar of graphics, I recommend you work through the remaining sections in the Data Visualization Chapter picking up where you left of at the <a href="%22http://r4ds.had.co.nz/data-visualisation.html#facets%22">section on facets</a></p>
<p>By the end of this you should have a really solid foundation from which to begin wrangling and visualizing your own data. In the next chapter I’ll provide some gerenal principles for developing analyses and a step-by-step guide to follow a modern workflow.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-analysts-toolbox.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="developing-analyses-with-the-hakai-institute.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
