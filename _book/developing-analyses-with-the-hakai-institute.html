<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Hakai Institute R Data-Analyst Guide</title>
  <meta name="description" content="A guideline for developing analyses in R; getting started, and best-practices">
  <meta name="generator" content="bookdown 0.3.18 and GitBook 2.6.7">

  <meta property="og:title" content="Hakai Institute R Data-Analyst Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="~/Google Drive/SEMSP/SEMSP Presentations and Posters/Materials for Future Presentations/Collaborator Logo_Images/Hakai/Hakai Institute Logo on Red.png" />
  <meta property="og:description" content="A guideline for developing analyses in R; getting started, and best-practices" />
  <meta name="github-repo" content="HakaiInstitute/hakai_guide_to_r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Hakai Institute R Data-Analyst Guide" />
  
  <meta name="twitter:description" content="A guideline for developing analyses in R; getting started, and best-practices" />
  <meta name="twitter:image" content="~/Google Drive/SEMSP/SEMSP Presentations and Posters/Materials for Future Presentations/Collaborator Logo_Images/Hakai/Hakai Institute Logo on Red.png" />

<meta name="author" content="Brett Johnson">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-analysts-toolbox.html">
<link rel="next" href="additional-references-and-learning-resources.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Hakai Institute R Data Analyst Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#university-gaps"><i class="fa fa-check"></i><b>1.1</b> University Gaps</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#reproducibility-problem"><i class="fa fa-check"></i><b>1.2</b> Reproducibility Problem</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#modern-approach-to-data-analysis"><i class="fa fa-check"></i><b>1.3</b> Modern Approach to Data Analysis</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html"><i class="fa fa-check"></i><b>2</b> A Good Data Analysis</a><ul>
<li class="chapter" data-level="2.1" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#reproducible-research"><i class="fa fa-check"></i><b>2.1</b> Reproducible Research</a></li>
<li class="chapter" data-level="2.2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#literate-programming"><i class="fa fa-check"></i><b>2.2</b> Literate Programming</a></li>
<li class="chapter" data-level="2.3" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#open-science-collaboration"><i class="fa fa-check"></i><b>2.3</b> Open Science Collaboration</a><ul>
<li class="chapter" data-level="2.3.1" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#peer-review"><i class="fa fa-check"></i><b>2.3.1</b> Peer Review</a></li>
<li class="chapter" data-level="2.3.2" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#code-review"><i class="fa fa-check"></i><b>2.3.2</b> Code Review</a></li>
<li class="chapter" data-level="2.3.3" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#collaboration"><i class="fa fa-check"></i><b>2.3.3</b> Collaboration</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="a-good-data-analysis.html"><a href="a-good-data-analysis.html#resources"><i class="fa fa-check"></i><b>2.4</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html"><i class="fa fa-check"></i><b>3</b> Data Analyst’s Toolbox</a><ul>
<li class="chapter" data-level="3.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#r-and-r-studio"><i class="fa fa-check"></i><b>3.1</b> R and R Studio</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#step-by-step-rrstudio"><i class="fa fa-check"></i><b>3.1.1</b> Step-by-step R/RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#version-control-with-git-and-github"><i class="fa fa-check"></i><b>3.2</b> Version control with Git and GitHUB</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-analysts-toolbox.html"><a href="data-analysts-toolbox.html#step-by-step-gitgit-hub"><i class="fa fa-check"></i><b>3.2.1</b> Step-by-step Git/Git HUB</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html"><i class="fa fa-check"></i><b>4</b> Developing Analyses with the Hakai Institute</a><ul>
<li class="chapter" data-level="4.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#general-principes"><i class="fa fa-check"></i><b>4.1</b> General Principes</a></li>
<li class="chapter" data-level="4.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#step-by-step-analysis-example"><i class="fa fa-check"></i><b>4.2</b> Step-by-step Analysis Example</a><ul>
<li class="chapter" data-level="4.2.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#set-up-a-repo-on-github"><i class="fa fa-check"></i><b>4.2.1</b> Set up a repo on GitHUB</a></li>
<li class="chapter" data-level="4.2.2" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#start-a-new-r-studio-project"><i class="fa fa-check"></i><b>4.2.2</b> Start a new R-Studio project</a></li>
<li class="chapter" data-level="4.2.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#create-folder-structure"><i class="fa fa-check"></i><b>4.2.3</b> Create folder structure</a></li>
<li class="chapter" data-level="4.2.4" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#pre-process-data-import-tidy"><i class="fa fa-check"></i><b>4.2.4</b> Pre-process data: import &amp; tidy</a></li>
<li class="chapter" data-level="4.2.5" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>4.2.5</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="4.2.6" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#predict-and-model"><i class="fa fa-check"></i><b>4.2.6</b> Predict and Model</a></li>
<li class="chapter" data-level="4.2.7" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#communicate"><i class="fa fa-check"></i><b>4.2.7</b> Communicate</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#programming-style-guide"><i class="fa fa-check"></i><b>4.3</b> Programming style guide</a></li>
<li class="chapter" data-level="4.4" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#github-flow"><i class="fa fa-check"></i><b>4.4</b> GitHUB flow</a><ul>
<li class="chapter" data-level="4.4.1" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#final-data-product"><i class="fa fa-check"></i><b>4.4.1</b> Final data product</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="developing-analyses-with-the-hakai-institute.html"><a href="developing-analyses-with-the-hakai-institute.html#collaboration-with-phyton-users"><i class="fa fa-check"></i><b>4.5</b> Collaboration with phyton users</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="additional-references-and-learning-resources.html"><a href="additional-references-and-learning-resources.html"><i class="fa fa-check"></i><b>5</b> Additional References and Learning Resources</a></li>
<li class="chapter" data-level="6" data-path="glossary-of-terms.html"><a href="glossary-of-terms.html"><i class="fa fa-check"></i><b>6</b> Glossary of Terms</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Hakai Institute R Data-Analyst Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="developing-analyses-with-the-hakai-institute" class="section level1">
<h1><span class="header-section-number">4</span> Developing Analyses with the Hakai Institute</h1>
<div id="general-principes" class="section level2">
<h2><span class="header-section-number">4.1</span> General Principes</h2>
<p>Packrat, roxygen</p>
</div>
<div id="step-by-step-analysis-example" class="section level2">
<h2><span class="header-section-number">4.2</span> Step-by-step Analysis Example</h2>
<p>In this section I will walk you through an example of a project that brings together all the different concepts we’ve been talking about up to this point. This project should serve as an example of how to develop analyses when working with the Hakai Institute.</p>
<p>I start every new project in the following manner. I first create a Git HUB repo, start a new R-Studio project and link it to my Git HUB repo, and then I populate my working directory with a template folder structure that stores the different categories of files I produce from every analysis in Google Drive. Make sure you have the Google Drive desktop app installed on your computer before you proceed, so you can save files on your desktop that will automatically sync with Google Drive.</p>
<div id="set-up-a-repo-on-github" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Set up a repo on GitHUB</h3>
<ol style="list-style-type: decimal">
<li><p>Go to <a href="https://github.com" class="uri">https://github.com</a> and login.</p></li>
<li><p>Create a new repository on your own account, or on the Hakai account depending on the scenario.</p></li>
<li><p>Call it something-descriptive-but-concise, for example.</p></li>
<li><p>Make it public and click yes to initialize with a README.</p></li>
<li><p>Click the big green button “Create repository.”</p></li>
<li><p>Copy the HTTPS clone URL to your clipboard via the green “Clone or Download” button. You’ll need this to link the repo with R-Studio.</p></li>
</ol>
</div>
<div id="start-a-new-r-studio-project" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Start a new R-Studio project</h3>
<ol style="list-style-type: decimal">
<li>Open R Studio and go to File &gt; New Project &gt; Version Control &gt; Git. In the “repository URL” paste the URL of the Git Hub repository you just made. Create the project in your programs Google Drive folder for analyses and create a new folder with a descriptive title for your analysis. Just make sure. Click “Create Project”</li>
</ol>
<p>This should download the README.md file that we created on GitHub in the previous step. Look in RStudio’s file browser pane for the README.md file.&quot;</p>
</div>
<div id="create-folder-structure" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Create folder structure</h3>
<p>I use a default folder structure for every analysis based on the files that are produced from every analysis. Using the directory that you created your new R-Studio project, which will be your <em>working directory</em>, create these sub-folders within the project folder:</p>
<ul>
<li>raw data</li>
<li>processed data</li>
<li>raw scripts</li>
<li>final scripts</li>
<li>exploratory figures</li>
<li>final figures</li>
</ul>
<p>Using Google Drive to store files has advantages, but you must be careful not to edit files directly in Google Drive without committing changes using Git. Doing that risks putting your repo out of sync with your local version. So only ever make changes file stored in your Google Drive via R, and commit changes to them using Git.</p>
</div>
<div id="pre-process-data-import-tidy" class="section level3">
<h3><span class="header-section-number">4.2.4</span> Pre-process data: import &amp; tidy</h3>
<p>I usually create a few different scripts in any analysis, which helps me to compartmentalize the different steps of the analysis. I start with a pre-processing script that will read in and format all the different data sets I want to combine and analyze. This is where I make changes to data format that I want to apply to all subsequent uses of that data (so that I don’t have to keep doing it in subsequent scripts).</p>
<ol style="list-style-type: decimal">
<li><p><strong>Create pre_process.R script</strong> In your newly created R Studio project, go to File &gt; New File &gt; R Script. Save it in the raw scripts sub-directory of your project directory.</p></li>
<li><p>Set your working directory</p></li>
<li><p>Load packages</p></li>
<li><p>Import data</p></li>
</ol>
<p><strong>Method 1</strong>:From spreadsheets</p>
<p>Most often you’re going to want to read in files that are .csv files. These are comma separated value files and can be produced from excel or Google sheets by saving your excel or Google sheet file as a .csv file.</p>
<p>The first module of an analysis I produce is a plain .R script that loads in my .csv data file and save it in my R environment as a tibble, a type of data frame, using the <code>new_tbl &lt;- read_csv(&quot;filepath&quot;)</code> format. Before you read in a file, you should load the packages that we will be required for every analysis you conduct using the <code>library(tidyverse)</code> function. Note that you should not use the base R function <code>read.csv</code> but rather use the tidy-verse function <code>read_csv</code>. The base version will inevitably cause frustration due to incorrect variable class assignment.</p>
<ol style="list-style-type: decimal">
<li><p><strong>Create pre_process.R script</strong> In your newly created R Studio project, go to File &gt; New File &gt; R Script. Save it in the raw scripts sub-directory of your project directory.</p></li>
<li><p>Set your working directory</p></li>
<li><p>Load packages</p></li>
<li><p>Import data</p></li>
</ol>
<p><strong>Method 1</strong>:From spreadsheets</p>
<p>Most often you’re going to want to read in files that are .csv files. These are comma separated value files and can be produced from excel or Google sheets by saving your excel or Google sheet file as a .csv file.</p>
<p>The first module of an analysis I produce is a plain .R script that loads in my .csv data file and save it in my R environment as a tibble, a type of data frame, using the <code>new_tbl &lt;- read_csv(&quot;filepath&quot;)</code> format. Before you read in a file, you should load the packages that we will be required for every analysis you conduct using the <code>library(tidyverse)</code> function. Note that you should not use the base R function <code>read.csv</code> but rather use the tidy-verse function <code>read_csv</code>. The base version will inevitably cause frustration due to incorrect variable class assignment.</p>
<p><strong>Method 2</strong>:From Hakai database</p>
<p>Once I have my data set in my work environment, I’ll make sure that all the variable classes are what I want them to be. Luckily, when <code>read_csv</code> reads in your file, it prints a summary of the name and type of each variable in your data frame.</p>
<p>I always check:</p>
<ul>
<li>that my Date column has the class ‘date’</li>
<li>that categorical variables are stored as factors</li>
<li>anything that is not a categorical variable is not stored as a factor but rather is numeric, character, or integer for example.</li>
</ul>
<p>One of the most common problems of why you get errors in R is from R assigning incorrect variable classes. Often you want your variable to be of class numeric, or character, but it is assigned as a factor. This is extremely common and can be remedied by coercing your variable class.</p>
<p><strong>Tidy your data</strong></p>
<p>Tidy data is best explained by a quote from <a href="http://www.jstatsoft.org/v59/i10/paper">Hadley Wickham’s paper</a> in the Journal of Statistical Software: “Tidy data sets are easy to manipulate, model and visualize, and have a specific structure: each variable is a column, each observation is a row, and each type of observational unit is a table.” The ‘tidy-verse’ model of working in R that I have previously referred to relies on this system of data preparation.</p>
<p>The basic tenets that make a data set tidy are:</p>
<ol style="list-style-type: decimal">
<li>Each variable must have its own column</li>
<li>Each observation must have its own row</li>
<li>Each value must have its own cell</li>
</ol>
<p>Beyond that each type of observational unit should be its own table. That is to say, I wouldn’t mix weather metadata from field collection of a fish sample in the same table as the results of a laboratory analysis. Instead I would keep these two types of information, in different tables, but provide a common column in each that allows the tables to be later joined. This last part related to joining tables is an important concept that I will come back to. If you are involved in producing the data set, I recommend setting up your data collection to follow the tidy data format, to make your life, or the life of your analysts, much easier!</p>
<p>If your data is not tidy, there are a variety of functions you can use from the <code>tidyr</code> package that you can learn about in <a href="http://r4ds.had.co.nz/tidy-data.html#introduction-6">Chapter 9: Tidy Data with tidyr</a>. But hopefully your data has arrived to you tidy, in which case you can move on to processing the data for your analysis.</p>
<p><strong>Process your data</strong></p>
<p>There is usually some number of things that you will want to do to your data before you start exploring it. You may want to create new variables based on others, you may want to select only certain variables, or you may want to filter out certain observations.</p>
<p>This would be to the time to get your data to where you want it before you start to analyze it.</p>
<p>Select certain observations using <code>select()</code>, filter observations using <code>filter()</code></p>
<p><strong>Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>Set up a new Git Hub repo called ’developing-analyses-w-hakai</li>
<li>Start a new R-Studio project</li>
<li>Re-create the suggested template folder structure in the working directory you established your R project file in.</li>
<li>Download <a href="">this example dataset</a> into the raw data folder of your project directory</li>
<li>Make sure the data is tidy</li>
<li>Process your data for how you want to analyze it and export it using the <code>write_csv</code> function to your processed data folder.</li>
</ol>
</div>
<div id="exploratory-data-analysis" class="section level3">
<h3><span class="header-section-number">4.2.5</span> Exploratory data analysis</h3>
<p>This is where you start playing with the data. You will likely try many different summaries and visualizations while you seek a deeper understanding of your data.</p>
<p>I typically create an exploratory data analysis (EDA) script specifically for this. I use R Markdown files (.Rmd) for my EDA. This allows me to weave narrative explanations of what exploration I am doing in each separate code chunk. Writing this narrative about why you chose to explore a certain analysis or summary, and why it did or didn’t work is key in documenting your analysis so you can come back to it, make sense of what you’ve done, and pick up where you left off.</p>
<p>EDA allows me to try many different summaries or visualizations without having to worry about making the output perfect or pretty. This process will give you insight to your data as well as generate new questions and provoke new analyses. One excellent tool that can help you explore your data interactively is using <a href="https://shiny.rstudio.com/">shiny apps</a>. There’s too much detail to focus on how to produce shiny apps here but suffice to say that creating interactivity with your data set is an excellent way to explore many different relationships between your data.</p>
<p>Exploratory analysis can probably go on forever depending on the complexity of your data. You will probably think of 1000 different ways to look at your data, but after some time you need to refocus on your original question and think carefully about what analyses and visualizations are best to communicate. Because you’ve been storing all of your EDA in and EDA script you’ve got a record of every path you went down while exploring your data. You can then cherry pick the analyses, plots, and summaries you want to include in your final scripts and simply copy and past them into a new .Rmd script.</p>
<p><strong>Exercises</strong></p>
<ol style="list-style-type: decimal">
<li>Create a to do list using issues in Git Hub</li>
<li>Produce summary plots and commits along with milestones</li>
<li>Make a pull request</li>
<li>Make a branch to produce a shiny app</li>
<li>Make a pull request to merge shinny app</li>
<li>Produce a shiny app</li>
</ol>
</div>
<div id="predict-and-model" class="section level3">
<h3><span class="header-section-number">4.2.6</span> Predict and Model</h3>
</div>
<div id="communicate" class="section level3">
<h3><span class="header-section-number">4.2.7</span> Communicate</h3>
<p>What your final data product is going to be (summary report, figures for your manuscript, an interactive dashboard for a website), will dictate what your final scripts will be. As a baseline I recommend .Rmd as the final format because this gives you a lot of flexibility in terms of polished data products.</p>
</div>
</div>
<div id="programming-style-guide" class="section level2">
<h2><span class="header-section-number">4.3</span> Programming style guide</h2>
<p>You’ll notice that throughout the example, there was consistent formatting of the code. Using consistent formatting for writing your code, makes it easier for everyone to interpret. I recommended the style guideline developed by Hadley Wickham called <a href="http://style.tidyverse.org">The tidyverse style guide</a>.</p>
</div>
<div id="github-flow" class="section level2">
<h2><span class="header-section-number">4.4</span> GitHUB flow</h2>
<p>Git Hub Flow is a workflow that should generally be adhered to whether working individually or collaboratively. Some will argue that there’s no such thing as working individually, especially when you consider that you’re constantly collaborating with past-you, and future-you.</p>
<p>The main concepts of Git Hub Flow are:</p>
<ul>
<li><p><strong>Branching</strong> - This is a core concept in Git Hub and version control in general – The master branch must always remain stable and working. When you create a new branch, you are creating an environment where you can try out new ideas without directly manipulating the stable ‘master’ version of your analysis.</p></li>
<li><p><strong>Commits</strong> - Commits represent significant changes to your branch. I think of them as mini-milestones that add up to your complete analysis. Perhaps you’re mini-milestone is to create a linear model of something. You can work locally and make save files on your computer while working on the linear model like you normally would. When you finish your linear model, this is a good time to make a commit to your branch. You must name each commit, and this should be descriptive. In this case ‘fitted linear model’ would be ideal.</p></li>
<li><p><strong>Pull Requests</strong> - I like to think of pull requests as an opportunity to review and discuss the sum of several commits before they are merged back into the main branch. Something that helped clarify what a pull request is for me, was thinking about the difference between a push (write) request, and a pull (read) request. In the context of a shared repository, a pull request gives everyone that the repo is shared with a change to <em>read</em> your request to consider the sum of your mini-milestones. Pull requests should amount to the completion of a component of your project. See <a href="https://help.github.com/articles/about-pull-requests/">here</a> for more info.</p></li>
<li><p><strong>Issues</strong> - When working ‘individually’, an excellent way to create a TODO list for yourself is to create new ‘Issues’. Again this could be something routine, like ‘filter data to include only sampling events in the morning.’ You can then leave yourself, and potential collaborators, a little note about why you’re doing this which will be preserved in a timeline for future you, or collaborators, to inspect. Each issue in your repo is given a number, and future commits can be labelled ‘fixes issue #45’ and when that commit is wrapped up in a pull-request which is eventually merged to the master branch, the issue will be marked as resolved. When working collaboratively, issues can be created by whomever is reviewing your code, and the issue can be assigned to you to fix.</p></li>
<li><p><strong>Merge</strong> - Once a Pull Request has been sufficiently reviewed, discussed, and tested (deployed), the new code can be merged with the master branch, typically by the team owner, or maintainer.</p></li>
</ul>
<p>See this <a href="https://guides.github.com/introduction/flow/">GitHUB Flow</a> help article for a nice walk through with good diagrams.</p>
<div id="final-data-product" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Final data product</h3>
<p>What your final data product is going to be (summary report, figures for your manuscript, an interactive dashboard for a website), will dictate what your final scripts will be. As a baseline I recommend .Rmd as the final format because this gives you a lot of flexibility in terms of polished data products.</p>
</div>
</div>
<div id="collaboration-with-phyton-users" class="section level2">
<h2><span class="header-section-number">4.5</span> Collaboration with phyton users</h2>
<p>The data analysis files you commit to your repo should include a ‘feather’ table. <a href="https://blog.rstudio.org/2016/03/29/feather/">Feather</a> is data frame format that is readable by both Python and R, and therefore every analysis should produce this type of data frame to ensure reproducibility for Python users</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-analysts-toolbox.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="additional-references-and-learning-resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-crc/edit/master/04-guidelines_for_hakai_analysts.Rmd",
"text": "Edit"
},
"download": ["Hakai_R_Guide.pdf", "Hakai_R_Guide.epub"],
"toc": {
"collapse": "all"
}
});
});
</script>

</body>

</html>
